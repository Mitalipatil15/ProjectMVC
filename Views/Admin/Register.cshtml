@model ProjectMVC.Models.User

@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "Show";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<html>
<head>
    <h2 style="color:blueviolet">Register</h2>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.3.2/css/buttons.dataTables.min.css" />
    <script src="~/Scripts/modernizr-2.8.3.js"></script>
</head>
<body>

    @using (Html.BeginForm())

    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h4>User</h4>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.Id, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Id, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Id, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Phone, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.AllBind, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    <div>
                        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
                        <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
                        <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.js"></script>
                        <link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
                        <script type="text/javascript" src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.js"></script>
                        <script type="text/javascript">
                            $(function () {
                                $('#AllBind').multiselect({
                                    includeSelectAllOption: true
                                });
                                $('#checkbox').click(function () {
                                    var selected = $("#Locationlistoption:selected");
                                    var message = "";
                                    selected.each(function () {
                                        message += $(this).text() + $(this).val() + "\n";
                                    });
                                    alert(message);
                                });
                        </script>


                        <select id="Locationlist" multiple="multiple">
                            <option>
                                <input type="checkbox" id="checkbox" />
                                @Html.DropDownList("AllBind", null, "----Select Country----")

                                @Html.ValidationMessageFor(model => model.AllBind, "", new { @class = "text-danger" })
                            </option>

                        </select>
                    </div>

                </div>

            </div>
            @*<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"> </script>
                    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
                    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.js"></script>
                    <link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
                    <script type="text/javascript" src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.js"></script>
                    <script type="text/javascript">
                        $(function () {
                            $('#AllBind').multiselect({
                                includeSelectAllOption: true
                            });
                        $('#checkbox').click(function () {
                                var selected = $("#Locationlist option:selected");
                        var message = "";
                        selected.each(function () {
                            message += $(this).text() + $(this).val() + "\n";
                                });
                        alert(message);
                            });*@
                        @*//$(document).ready(function () {
                            //    $("#AllBind").change(function () {
                            //        var id = $(this).val();
                            //        $("#state").empty();
                            //        $.get("Location", { CityId: id }, function (data) {
                            //            var v = "<option>---Select---</option>";
                            //            $.each(data, function (i, v1) {
                            //                v += "<option value=" + v1.Value + ">" + v1.Text + "</option>";
                            //            });
                            //            $("#state").html(v);
                            //        });
                            //    });
                            //});*@
                    @*</script>*@

                    <div class="form-group">
                        @Html.LabelFor(model => model.StateName, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            <select id="state">----Select State----</select><br />
                            @Html.ValidationMessageFor(model => model.StateName, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.CityId, "CityName", htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            <select id="CityId" name="CityId">----Select City---</select><br />
                            <input type="button" value="Search" />
                            @Html.ValidationMessageFor(model => model.CityName, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                        </div>
                    </div>



                    @*<div class="form-group">
            @Html.LabelFor(model => model.CountryId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CountryId, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CountryId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.StateId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.StateId, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.StateId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.CityId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CityId, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CityId, "", new { @class = "text-danger" })
            </div>
        </div>*@

                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            <input type="submit" value="Create" class="btn btn-danger" />
                        </div>
                    </div>
                </div>

        <script src="~/Scripts/jquery-3.4.1.min.js"></script>
        <script>
            $(document).ready(function () {
                $("#Country").change(function () {
                    var id = $(this).val();
                    $("#state").empty();
                    $.get("State_Bind", { CountryId: id }, function (data) {
                        var v = "<option>---Select---</option>";
                        $.each(data, function (i, v1) {
                            v += "<option value=" + v1.Value + ">" + v1.Text + "</option>";
                        });
                        $("#state").html(v);
                    });
                });

                $("#state").change(function () {
                    var id = $(this).val();
                    $("#CityId").empty();
                    $.get("City_Bind", { StateId: id }, function (data) {
                        var v = "<option>---Select---</option>";
                        $.each(data, function (i, v1) {
                            v += "<option value=" + v1.Value + ">" + v1.Text + "</option>";
                        });
                        $("#CityId").html(v);
                    });
                });
            });

            $(document).ready(function () {
                $(".popup").click(function (e) {
                    e.preventDefault();
                    var url = $(this).attr("href");
                    $("#modal").remove();
                    $.get(url, function (data) {
                        $(data).modal();
                    });
                });
            });
        </script>

        <table id="example" class="table table-bordered table-striped">
            <thead>
                <tr class="bg-primary text-danger">
                    <th>
                        @Html.DisplayNameFor(model => model.Id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Phone)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CountryName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.StateName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CityName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>
                    @*<th>
                            @Html.DisplayNameFor(model => model.CountryId)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.StateId)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.CityId)
                        </th>*@
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Users)
                {
                    <tr>
                        <td class="bg-success">
                            @Html.DisplayFor(modelItem => item.Id)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CountryName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StateName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CityName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Password)
                        </td>
                        @*<td>
                                @Html.DisplayFor(modelItem => item.CountryId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StateId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CityId)
                            </td>*@
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                            @Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class = "popup" })  |
                            @Html.ActionLink("Delete", "Delete", new { id = item.Id },
                             new { onclick = "return confirm('Are you sure wants to delete...?')" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        @section Scripts{
        <script src="~/Scripts/jquery-3.4.1.slim.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/dataTables.buttons.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.bootstrap5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.html5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.colVis.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
              $('#example').DataTable({
                    dom:'Bfrtip',

                    buttons: ['copyHtml5',
                        'excelHtml5',
                        'pdfHtml5',
                        'colvis']
                });
            });
        </script>

            }


    }
    @*<div id="modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"> Details</h5>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="window.open('@Url.Action("Register","Admin")')">
                    </button>
                </div>
                <div class="modal-body">
                    <h4 style="text-align:center">Details</h4>
                    </hr>
                    <dl class="dl-horizontal">


                        <dt>
                            @Html.DisplayNameFor(model => model.Id)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Id)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.Name)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Name)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Phone)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Phone)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Email)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Email)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.CountryName)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.CountryName)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.StateName)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.StateName)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.CityName)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.CityName)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Password)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Password)
                        </dd>
                        <div>
                            @Html.ActionLink("Back to List", "Index")
                        </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>*@


        @*@section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
        }*@

</body>
</html>
